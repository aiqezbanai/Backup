<!-- Last Update (05 September 2025 | 20:09) -->
<!DOCTYPE html>
<html lang="hy">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI QEZ BACKUP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* General styles */
        body {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Animation for modals */
        @keyframes fade-in-scale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        .animate-fade-in-scale {
            animation: fade-in-scale 0.3s forwards;
        }

        /* Styles for the Maintenance page, adapted from Maintenance.html */
        .maintenance-body {
            font-family: "Verdana", sans-serif;
        }
        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background-image: url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=1772&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        .maintenance-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            padding: 2rem;
            height: 100vh;
            backdrop-filter: blur(1px); /* More subtle blur */
        }
        .maintenance-message {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 12px;
            padding: 2rem;
            max-width: 600px;
        }
        .maintenance-title {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        .maintenance-subtitle {
            font-size: 1.25rem;
            margin-bottom: 2rem;
        }
        .dim-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 9999;
            pointer-events: none; /* Allows clicks to pass through */
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        const maintenanceSchedules = [
            { id: 1, start: '2025-09-06T00:00:00Z', end: '2025-09-06T02:00:00Z', reason: 'Այս պահին կատարվում են տեխնիկական սպասարկման աշխատանքներ' },
            { id: 2, start: '2025-09-10T10:00:00Z', end: '2025-09-10T12:00:00Z', reason: 'Համակարգի թարմացումներ' }
        ];

        const MaintenancePage = ({ schedule }) => (
            <div className="maintenance-body">
                <div className="background-container"></div>
                <div className="maintenance-container">
                    <div className="maintenance-message animate-fade-in-scale">
                        <h1 className="maintenance-title">Տեխնիկական սպասարկում</h1>
                        <p className="maintenance-subtitle">{schedule.reason}</p>
                        <p>Խնդրում ենք փորձել մի քիչ ուշ։</p>
                    </div>
                </div>
            </div>
        );

        const MainApplication = () => {
            // Placeholder for the main application content
            return (
                <div className="flex items-center justify-center h-screen bg-gray-100">
                    <h1 className="text-4xl font-bold text-gray-800">
                        Հիմնական Դիմումի Բովանդակությունը
                    </h1>
                </div>
            );
        };

        const App = () => {
            const [activeMaintenanceSchedule, setActiveMaintenanceSchedule] = useState(null);

            useEffect(() => {
                const checkMaintenanceStatus = () => {
                    const now = new Date();
                    const currentActiveSchedule = maintenanceSchedules.find(schedule => {
                        const start = new Date(schedule.start);
                        const end = new Date(schedule.end);
                        return now >= start && now <= end;
                    });
                    setActiveMaintenanceSchedule(currentActiveSchedule || null);
                };

                // 1. Ստուգում էջի առաջին բեռնման ժամանակ
                checkMaintenanceStatus();

                // 2. Ստուգում յուրաքանչյուր 5 վայրկյանը մեկ
                const intervalId = setInterval(checkMaintenanceStatus, 5000);

                // Մաքրում ենք interval-ը, երբ կոմպոնենտը հեռացվում է
                return () => clearInterval(intervalId);
            }, []);

            if (activeMaintenanceSchedule) {
                return <MaintenancePage schedule={activeMaintenanceSchedule} />;
            }
            
            return <MainApplication />;
        };

        // --- From index.tsx (rendering logic) ---
        const rootElement = document.getElementById('root');
        if (!rootElement) throw new Error("Could not find root element to mount to");
        const root = ReactDOM.createRoot(rootElement);
        root.render(<React.StrictMode><App /></React.StrictMode>);
    </script>

    <!-- JS Script for Security and Protection -->
    <script>
        // Check if the current element is an allowed input field
        const isAllowedInput = (element) => {
            const tagName = element.tagName.toLowerCase();
            const type = element.getAttribute('type');
            return (
                (tagName === 'input' && (
                    type === 'text' || 
                    type === 'password'
                )) ||
                (tagName === 'textarea') ||
                element.classList.contains('allow-keyboard') // Custom class for allowed inputs
            );
        };

        // 1. Կանխել աջ սեղմումը
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        });

        // 2. Կանխել ձախ և աջ սեղմումները (բացի Folder-ի վրա աջ սեղմումը)
        document.addEventListener('mousedown', function(e) {
            const isFolder = e.target.closest('.folder-element'); // Folder-ի class-ը
            if (e.button === 2 && isFolder) {
                return; // Թույլատրել աջ սեղմումը թղթապանակի վրա
            }
            if (e.button === 2 || e.button === 0) { // 2 - աջ, 0 - ձախ
                e.preventDefault();
            }
        });

        // 3. Կանխել "View Source" և "Inspect Element"
        document.addEventListener('keydown', function(e) {
            if (
                (e.ctrlKey && (e.key === 'u' || e.key === 'U')) || // Ctrl + U
                (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.key === 'C')) || // Ctrl + Shift + I / J / C
                e.key === 'F12' // F12
            ) {
                e.preventDefault();
            }
        });

        // 4. Կանխել տեքստի ընտրությունը
        document.addEventListener('selectstart', function(e) {
            e.preventDefault();
        });

        // 5. Կանխել պատճենումը
        document.addEventListener('copy', function(e) {
            e.preventDefault();
        });

        // 6. Կանխել բովանդակության տեղադրումը
        document.addEventListener('paste', function(e) {
            e.preventDefault();
        });

        // 7. Կանխել "Պահպանել որպես" և պատկերների պահպանումը
        document.addEventListener('contextmenu', function(e) {
            if (e.target.tagName.toLowerCase() === 'img' || e.target.tagName.toLowerCase() === 'video') {
                e.preventDefault();
            }
        });

        // 8, 9, 10. Կանխել "Print Screen" և մթնել էկրանը
        let isDimmed = false;
        const dimScreen = () => {
            if (!isDimmed) {
                const overlay = document.createElement('div');
                overlay.className = 'dim-overlay';
                document.body.appendChild(overlay);
                isDimmed = true;
                setTimeout(() => {
                    overlay.remove();
                    isDimmed = false;
                }, 3000);
            }
        };

        document.addEventListener('keyup', function(e) {
            if (e.key === 'PrintScreen' || (e.key === 'p' && e.altKey) || (e.key === '`' && e.ctrlKey)) {
                dimScreen();
                // We don't prevent the default here as PrintScreen behavior can be hard to block completely
            }
        });

        // 11. Կանխել ստեղնաշարի ցանկացած օգտագործում
        document.addEventListener('keydown', function(e) {
            if (!isAllowedInput(document.activeElement)) {
                e.preventDefault();
            }
        });

        // 12. Կանխել "Drag & Drop"-ը
        document.addEventListener('dragstart', function(e) {
            e.preventDefault();
        });

        document.addEventListener('drop', function(e) {
            e.preventDefault();
        });

        document.addEventListener('dragover', function(e) {
            e.preventDefault();
        });

        // 13. Հետևել էջի տեսանելիության փոփոխություններին
        window.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                dimScreen();
            }
        });

        // 14. Կանխել տպումը (Ctrl + P)
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && (e.key === 'p' || e.key === 'P')) {
                e.preventDefault();
            }
        });

    </script>
</body>
</html>
